{"ast":null,"code":"var _jsxFileName = \"/Users/gua/Desktop/tea-shop/src/components/memberpage/MemberAccount.jsx\";\nimport React, { useState, useEffect } from 'react';\n\nfunction MemberAccount() {\n  const [imgUrl, setImgUrl] = useState('');\n  const [memberName, setmemberName] = useState('');\n  const [memberEmail, setmemberEmail] = useState('');\n  const [memberPhone, setmemberPhone] = useState('');\n  const [memberAddress, setmemberAddress] = useState('');\n  const [memberImg, setmemberImg] = useState('');\n  const localId = localStorage.getItem('m_onlyid');\n  useEffect(() => {\n    getDataFromServer();\n  }, []); //取得會員原有資料\n\n  async function getDataFromServer() {\n    const request = new Request('http://localhost:3333/member/getmemberdata/' + localId, {\n      method: 'GET',\n      credentials: 'include',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json();\n    console.log(data);\n    setmemberName(data[0].m_username);\n    setmemberEmail(data[0].m_email);\n    setmemberPhone(data[0].m_phone);\n    setmemberAddress(data[0].m_address);\n    setImgUrl(data[0].m_img);\n  } //取得廠商原有資料end\n  //預覽圖片(大頭照)\n\n\n  const handleUserImg = e => {\n    const content = e.target.result; // console.log('file content', content)\n    // You can set content in state and show it in render.\n\n    setImgUrl(content);\n  };\n\n  const handleChangeUserImg = file => {\n    console.log(file);\n    const fileData = new FileReader();\n    setmemberImg(file);\n    fileData.onloadend = handleUserImg;\n    fileData.readAsDataURL(file);\n  }; //送出資料(不含關於跟Banner)\n\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const memberUpdate = {\n      memberName,\n      memberEmail,\n      memberPhone,\n      memberAddress,\n      memberImg,\n      localId\n    };\n    let formData = new FormData();\n\n    for (let key in memberUpdate) {\n      formData.append(`${key}`, memberUpdate[key]);\n    } // memberUpdate.map((value, index) => {\n    //   formData.append(`${index}`, value)\n    // })\n    // formData.append('memberImg', memberImg)\n\n\n    sendRegisterDataToServer(memberUpdate, () => alert('更新成功'));\n\n    async function sendRegisterDataToServer(memberUpdate, callback) {\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request = new Request('http://localhost:3333/member/updatedata', {\n        method: 'POST',\n        credentials: 'include',\n        body: formData\n      });\n      const response = await fetch(request);\n      const data = await response.json();\n      console.log('response', data);\n      callback();\n      return data;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content col-10 yz-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"\\u6211\\u7684\\u6A94\\u6848\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-data mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-area d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-area col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"\\u5E33\\u865F\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"\",\n    name: \"memberName\",\n    value: memberName,\n    onChange: e => setmemberName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"memberEmail\",\n    value: memberEmail,\n    onChange: e => setmemberEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"\\u5730\\u5740\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"memberAddress\",\n    value: memberAddress,\n    onChange: e => setmemberAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"\\u624B\\u6A5F\\u865F\\u78BC\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"memberPhone\",\n    value: memberPhone,\n    onChange: e => setmemberPhone(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img-area col-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"figure ls_W300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"figure-img img-fluid rounded\",\n    src: imgUrl,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"memberImg\",\n    onChange: e => {\n      handleChangeUserImg(e.target.files[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-main col-2 m-3\",\n    onClick: event => handleSubmit(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, \"\\u66F4\\u65B0\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-main col-2 m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"\\u767B\\u51FA\"))));\n}\n\nexport default MemberAccount;","map":{"version":3,"sources":["/Users/gua/Desktop/tea-shop/src/components/memberpage/MemberAccount.jsx"],"names":["React","useState","useEffect","MemberAccount","imgUrl","setImgUrl","memberName","setmemberName","memberEmail","setmemberEmail","memberPhone","setmemberPhone","memberAddress","setmemberAddress","memberImg","setmemberImg","localId","localStorage","getItem","getDataFromServer","request","Request","method","credentials","headers","Headers","Accept","response","fetch","data","json","console","log","m_username","m_email","m_phone","m_address","m_img","handleUserImg","e","content","target","result","handleChangeUserImg","file","fileData","FileReader","onloadend","readAsDataURL","handleSubmit","event","preventDefault","memberUpdate","formData","FormData","key","append","sendRegisterDataToServer","alert","callback","body","value","files"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nfunction MemberAccount() {\n  const [imgUrl, setImgUrl] = useState('')\n\n  const [memberName, setmemberName] = useState('')\n  const [memberEmail, setmemberEmail] = useState('')\n  const [memberPhone, setmemberPhone] = useState('')\n  const [memberAddress, setmemberAddress] = useState('')\n  const [memberImg, setmemberImg] = useState('')\n  const localId = localStorage.getItem('m_onlyid')\n  useEffect(() => {\n    getDataFromServer()\n  }, [])\n  //取得會員原有資料\n  async function getDataFromServer() {\n    const request = new Request(\n      'http://localhost:3333/member/getmemberdata/' + localId,\n      {\n        method: 'GET',\n        credentials: 'include',\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        }),\n      }\n    )\n\n    const response = await fetch(request)\n    const data = await response.json()\n    console.log(data)\n    setmemberName(data[0].m_username)\n    setmemberEmail(data[0].m_email)\n    setmemberPhone(data[0].m_phone)\n    setmemberAddress(data[0].m_address)\n    setImgUrl(data[0].m_img)\n  }\n\n  //取得廠商原有資料end\n\n  //預覽圖片(大頭照)\n  const handleUserImg = e => {\n    const content = e.target.result\n    // console.log('file content', content)\n    // You can set content in state and show it in render.\n    setImgUrl(content)\n  }\n\n  const handleChangeUserImg = file => {\n    console.log(file)\n    const fileData = new FileReader()\n    setmemberImg(file)\n    fileData.onloadend = handleUserImg\n    fileData.readAsDataURL(file)\n  }\n\n  //送出資料(不含關於跟Banner)\n  const handleSubmit = event => {\n    event.preventDefault()\n\n    const memberUpdate = {\n      memberName,\n      memberEmail,\n      memberPhone,\n      memberAddress,\n      memberImg,\n      localId,\n    }\n    let formData = new FormData()\n    for (let key in memberUpdate) {\n      formData.append(`${key}`, memberUpdate[key])\n    }\n    // memberUpdate.map((value, index) => {\n    //   formData.append(`${index}`, value)\n    // })\n    // formData.append('memberImg', memberImg)\n    sendRegisterDataToServer(memberUpdate, () => alert('更新成功'))\n\n    async function sendRegisterDataToServer(memberUpdate, callback) {\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request = new Request('http://localhost:3333/member/updatedata', {\n        method: 'POST',\n        credentials: 'include',\n        body: formData,\n      })\n\n      const response = await fetch(request)\n      const data = await response.json()\n      console.log('response', data)\n      callback()\n      return data\n    }\n  }\n\n  return (\n    <>\n      <div className=\"content col-10 yz-content\">\n        <h3 className=\"text-center\">我的檔案</h3>\n        <hr />\n        <form className=\"form-data mb-5\">\n          <div className=\"data-area d-flex justify-content-between\">\n            <div className=\"form-area col-6\">\n              <div className=\"form-group\">\n                <label>帳號</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"\"\n                  name=\"memberName\"\n                  value={memberName}\n                  onChange={e => setmemberName(e.target.value)}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>E-mail</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"memberEmail\"\n                  value={memberEmail}\n                  onChange={e => setmemberEmail(e.target.value)}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>地址</label>\n                <br />\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"memberAddress\"\n                  value={memberAddress}\n                  onChange={e => setmemberAddress(e.target.value)}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>手機號碼</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"memberPhone\"\n                  value={memberPhone}\n                  onChange={e => setmemberPhone(e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"img-area col-5\">\n              <div className=\"figure ls_W300\">\n                <img\n                  className=\"figure-img img-fluid rounded\"\n                  src={imgUrl}\n                  alt=\"\"\n                />\n              </div>\n              <input\n                type=\"file\"\n                name=\"memberImg\"\n                onChange={e => {\n                  handleChangeUserImg(e.target.files[0])\n                }}\n              />\n            </div>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"btn btn-main col-2 m-3\"\n            onClick={event => handleSubmit(event)}\n          >\n            更新\n          </button>\n          <button type=\"submit\" className=\"btn btn-main col-2 m-3\">\n            登出\n          </button>\n        </form>\n      </div>\n    </>\n  )\n}\n\nexport default MemberAccount\n"]},"metadata":{},"sourceType":"module"}