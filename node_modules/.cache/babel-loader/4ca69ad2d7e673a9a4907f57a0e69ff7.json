{"ast":null,"code":"var _jsxFileName = \"/Users/gua/Desktop/tea-shop/src/pages/Login.jsx\";\nimport { Link, NavLink, Redirect } from 'react-router-dom';\nimport React, { useState } from 'react'; // import * as sha1 from 'sha1'\n\nfunction MemberLogintest() {\n  const [accountNumber, setAccountNumber] = useState('');\n  const [accountPassword, setAccountPassword] = useState('');\n  const [loginmode, setLoginmode] = useState(false);\n  const loginSuccess = /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/membercenter/account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 24\n    }\n  });\n  const MemberLoginArea = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container yz-header mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link pb-2 ls_login-nav\",\n    activeClassName: \"active\",\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 11\n    }\n  }, \"\\u6703\\u54E1\\u767B\\u5165\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link pb-2 ls_login-nav mr-5\",\n    activeClassName: \"active\",\n    exact: true,\n    to: \"/login/vendor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, \"\\u5EE0\\u5546\\u767B\\u5165\"))), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"\\u6703\\u54E1\\u767B\\u5165\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control yz-form-control\",\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u5E33\\u865F\",\n    name: \"accountNumber\",\n    onChange: e => setAccountNumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control yz-form-control\",\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",\n    name: \"accountPassword\",\n    onChange: e => setAccountPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group form-check d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label\",\n    for: \"exampleCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"\\u8A18\\u4F4F\\u5E33\\u865F\\u5BC6\\u78BC\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"yz-froget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, \"\\u5FD8\\u8A18\\u5BC6\\u78BC\\uFF1F\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"registered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, \"\\u8A3B\\u518A\"))))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button \",\n    className: \"yz_btn-login text-center \",\n    onClick: event => handleSubmit(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), \"\\u767B\\u5165\")), /*#__PURE__*/React.createElement(Link, {\n    type: \"button\",\n    className: \"fb text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fab fa-facebook-f\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), \"Facebook\"), /*#__PURE__*/React.createElement(Link, {\n    type: \"button\",\n    className: \"gmail text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-envelope\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \" \"), \"Gmail\")));\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const userData = {\n      accountNumber,\n      accountPassword\n    };\n    sendRegisterDataToServer(userData, () => alert('登入成功'));\n\n    async function sendRegisterDataToServer(userData, callback) {\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request = new Request('http://localhost:3333/member/login', {\n        method: 'POST',\n        body: JSON.stringify(userData),\n        credentials: 'include',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      const response = await fetch(request);\n      console.log('response', response);\n      const data = await response.json();\n\n      if (data.success === true) {\n        console.log(data.message.text);\n        localStorage.setItem('m_onlyid', JSON.stringify(data.m_id));\n        console.log('loginmode', loginmode);\n        setLoginmode(true);\n      } else {\n        console.log(data.message.text);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loginmode ? loginSuccess : MemberLoginArea);\n}\n\nexport default MemberLogintest;","map":{"version":3,"sources":["/Users/gua/Desktop/tea-shop/src/pages/Login.jsx"],"names":["Link","NavLink","Redirect","React","useState","MemberLogintest","accountNumber","setAccountNumber","accountPassword","setAccountPassword","loginmode","setLoginmode","loginSuccess","MemberLoginArea","e","target","value","event","handleSubmit","preventDefault","userData","sendRegisterDataToServer","alert","callback","request","Request","method","body","JSON","stringify","credentials","headers","Accept","response","fetch","console","log","data","json","success","message","text","localStorage","setItem","m_id"],"mappings":"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","sourcesContent":["import { Link, NavLink, Redirect } from 'react-router-dom'\nimport React, { useState } from 'react'\n// import * as sha1 from 'sha1'\n\nfunction MemberLogintest() {\n  const [accountNumber, setAccountNumber] = useState('')\n  const [accountPassword, setAccountPassword] = useState('')\n\n  const [loginmode, setLoginmode] = useState(false)\n  const loginSuccess = <Redirect to=\"/membercenter/account\" />\n  const MemberLoginArea = (\n    <div className=\"container yz-header mb-2\">\n      <ul className=\"d-flex justify-content-between\">\n        <li className=\"nav-item mt-3\">\n          <NavLink\n            className=\"nav-link pb-2 ls_login-nav\"\n            activeClassName=\"active\"\n            to=\"/login\"\n          >\n            會員登入\n          </NavLink>\n        </li>\n        <li className=\"nav-item mt-3\">\n          <NavLink\n            className=\"nav-link pb-2 ls_login-nav mr-5\"\n            activeClassName=\"active\"\n            exact\n            to=\"/login/vendor\"\n          >\n            廠商登入\n          </NavLink>\n        </li>\n      </ul>\n\n      <form>\n        <h1 className=\"login\">會員登入</h1>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control yz-form-control\"\n            placeholder=\"請輸入帳號\"\n            name=\"accountNumber\"\n            onChange={e => setAccountNumber(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            className=\"form-control yz-form-control\"\n            placeholder=\"請輸入密碼\"\n            name=\"accountPassword\"\n            onChange={e => setAccountPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group form-check d-flex\">\n          <input type=\"checkbox\" className=\"form-check-input\" />\n          <div>\n            <div>\n              <label className=\"form-check-label\" for=\"exampleCheck1\">\n                記住帳號密碼\n              </label>\n              <div>\n                <div className=\"yz-froget\">\n                  <Link to=\"#\">忘記密碼？</Link>\n                </div>\n                <div className=\"registered\">\n                  <Link to=\"/signup\">註冊</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n          <button\n            type=\"button \"\n            className=\"yz_btn-login text-center \"\n            onClick={event => handleSubmit(event)}\n          >\n            <i className=\"fas fa-sign-in-alt\"></i>\n            登入\n          </button>\n        </div>\n        <Link type=\"button\" className=\"fb text-center\">\n          <i className=\"fab fa-facebook-f\"></i>\n          Facebook\n        </Link>\n        <Link type=\"button\" className=\"gmail text-center\">\n          <i className=\"far fa-envelope\"> </i>\n          Gmail\n        </Link>\n      </form>\n    </div>\n  )\n\n  const handleSubmit = event => {\n    event.preventDefault()\n    const userData = { accountNumber, accountPassword }\n\n    sendRegisterDataToServer(userData, () => alert('登入成功'))\n\n    async function sendRegisterDataToServer(userData, callback) {\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request = new Request('http://localhost:3333/member/login', {\n        method: 'POST',\n        body: JSON.stringify(userData),\n        credentials: 'include',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      })\n\n      const response = await fetch(request)\n      console.log('response', response)\n      const data = await response.json()\n\n      if (data.success === true) {\n        console.log(data.message.text)\n        localStorage.setItem('m_onlyid', JSON.stringify(data.m_id))\n        console.log('loginmode', loginmode)\n        setLoginmode(true)\n      } else {\n        console.log(data.message.text)\n      }\n    }\n  }\n\n  return <>{loginmode ? loginSuccess : MemberLoginArea}</>\n}\n\nexport default MemberLogintest\n"]},"metadata":{},"sourceType":"module"}