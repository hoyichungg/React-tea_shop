{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport React, { cloneElement } from 'react';\nimport { toArrayChildren, switchChildren } from './utils';\nexport default {\n  across: function across(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n\n    var props = _extends({}, elem.props);\n\n    var children = props.children;\n\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _x = direction === 'next' ? '-100%' : '100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n\n    return cloneElement(elem, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }, children);\n  },\n  vertical: function vertical(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n\n    var props = _extends({}, elem.props);\n\n    var children = props.children;\n\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _y = direction === 'next' ? '100%' : '-100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  acrossOverlay: function acrossOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n\n    var props = _extends({}, elem.props);\n\n    var children = props.children;\n\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      _x = direction === 'next' ? '-20%' : '20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  verticalOverlay: function verticalOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n\n    var props = _extends({}, elem.props);\n\n    var children = props.children;\n\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '20%' : '-20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  gridBar: function gridBar(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n\n    var animChild = [];\n    var gridNum = 10;\n    var girdSize = 100 / gridNum;\n\n    var _y = void 0;\n\n    var children = props.children;\n\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '100%' : '-100%';\n    }\n\n    var moment = ratio * (animData.duration + animData.delay + gridNum * 50 - (type === 'enter' ? 50 : 0)) || 0;\n\n    for (var i = 0; i < gridNum; i++) {\n      var style = _extends({}, props.style);\n\n      style.width = girdSize + 0.1 + '%';\n      style.left = i * girdSize + '%';\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n\n      var _style = _extends({}, props.style);\n\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.float = 'left';\n      _style.position = 'relative';\n      _style.left = -i * girdSize / 100 * elemOffset.width + 'px';\n      _style.overflow = 'hidden';\n\n      var animProps = _extends({}, props);\n\n      animProps.style = _style;\n      var delay = (direction === 'next' ? i : gridNum - i) * 50 + (type === 'enter' ? 0 : 50) + (animData.delay || 0);\n      animProps.animation = _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to',\n        key: type,\n        direction: direction,\n        delay: delay,\n        i: i,\n        onComplete: i === (direction === 'next' ? gridNum - 1 : 0) ? animData.onComplete : null\n      });\n      animProps.paused = paused;\n      animProps.moment = moment;\n      var mask = React.createElement('div', {\n        style: style,\n        key: i\n      }, cloneElement(elem, animProps, children));\n      animChild.push(mask);\n    }\n\n    var animSlot = React.createElement('div', {\n      style: {\n        width: '100%',\n        position: 'absolute',\n        top: 0\n      }\n    }, animChild);\n\n    var _props = _extends({}, elem.props);\n\n    _props.children = animSlot;\n    return cloneElement(elem, _extends({}, _props, {\n      animation: {\n        x: 0,\n        y: 0,\n        type: 'set'\n      }\n    }));\n  },\n  grid: function grid(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n\n    var animChild = [];\n    var gridNum = 10;\n    var gridWidth = elemOffset.width / gridNum;\n    var gridNumH = Math.ceil(elemOffset.height / gridWidth);\n\n    var _delay = (gridNum - 1) * 50 + (gridNumH - 1) * 50;\n\n    if (type === 'leave') {\n      props.animation = _extends({}, animData, {\n        duration: _delay + animData.duration\n      });\n      props.moment = ((animData.delay || 0) + _delay + animData.duration) * ratio || 0;\n      props.paused = paused;\n      return React.cloneElement(elem, props);\n    }\n\n    var moment = ratio * (animData.duration + animData.delay + _delay) || 0;\n\n    for (var i = 0; i < gridNum * gridNumH; i++) {\n      // mask样式\n      var style = _extends({}, props.style);\n\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n      style.width = gridWidth + 1 + 'px';\n      style.height = gridWidth + 1 + 'px';\n      style.left = i % gridNum * gridWidth;\n      style.top = Math.floor(i / gridNum) * gridWidth;\n      style.opacity = 0; // clone 的样式\n\n      var _style = _extends({}, props.style);\n\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.position = 'relative';\n      _style.left = -i % gridNum * gridWidth;\n      _style.top = -Math.floor(i / gridNum) * gridWidth;\n      _style.overflow = 'hidden';\n      props.style = _style;\n      var delay = direction === 'next' ? i % gridNum * 50 + Math.floor(i / gridNum) * 50 : (gridNum - 1 - i % gridNum) * 50 + (gridNumH - 1 - Math.floor(i / gridNum)) * 50;\n      delay += animData.delay || 0;\n      var length = direction === 'next' ? gridNum * gridNumH - 1 : 0;\n\n      var animation = _extends({}, animData, {\n        opacity: 1,\n        delay: delay,\n        onComplete: i === length ? animData.onComplete : null\n      });\n\n      var mask = React.createElement(elem.type, {\n        style: style,\n        key: i,\n        paused: paused,\n        animation: animation,\n        moment: moment\n      }, cloneElement(elem, props));\n      animChild.push(mask);\n    }\n\n    var _props = _extends({}, elem.props);\n\n    _props.children = animChild;\n    return cloneElement(elem, _extends({}, _props, {\n      animation: {\n        x: 0,\n        y: 0,\n        type: 'set'\n      }\n    }));\n  }\n};","map":{"version":3,"sources":["/Users/gua/Desktop/tea-shop/node_modules/rc-banner-anim/es/anim.js"],"names":["_extends","React","cloneElement","toArrayChildren","switchChildren","across","elem","type","direction","animData","elemOffset","leaveChildHide","_x","props","children","map","bind","animation","x","vertical","_y","y","acrossOverlay","verticalOverlay","gridBar","ratio","paused","animChild","gridNum","girdSize","moment","duration","delay","i","style","width","left","position","overflow","_style","height","float","animProps","key","onComplete","mask","createElement","push","animSlot","top","_props","grid","gridWidth","gridNumH","Math","ceil","_delay","floor","opacity","length"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport React, { cloneElement } from 'react';\nimport { toArrayChildren, switchChildren } from './utils';\n\nexport default {\n  across: function across(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _x = direction === 'next' ? '-100%' : '100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }, children);\n  },\n  vertical: function vertical(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _y = direction === 'next' ? '100%' : '-100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  acrossOverlay: function acrossOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      _x = direction === 'next' ? '-20%' : '20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  verticalOverlay: function verticalOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '20%' : '-20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  gridBar: function gridBar(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n    var animChild = [];\n    var gridNum = 10;\n    var girdSize = 100 / gridNum;\n\n    var _y = void 0;\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '100%' : '-100%';\n    }\n    var moment = ratio * (animData.duration + animData.delay + gridNum * 50 - (type === 'enter' ? 50 : 0)) || 0;\n    for (var i = 0; i < gridNum; i++) {\n      var style = _extends({}, props.style);\n      style.width = girdSize + 0.1 + '%';\n      style.left = i * girdSize + '%';\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n      var _style = _extends({}, props.style);\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.float = 'left';\n      _style.position = 'relative';\n      _style.left = -i * girdSize / 100 * elemOffset.width + 'px';\n      _style.overflow = 'hidden';\n      var animProps = _extends({}, props);\n      animProps.style = _style;\n      var delay = (direction === 'next' ? i : gridNum - i) * 50 + (type === 'enter' ? 0 : 50) + (animData.delay || 0);\n      animProps.animation = _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to',\n        key: type,\n        direction: direction,\n        delay: delay,\n        i: i,\n        onComplete: i === (direction === 'next' ? gridNum - 1 : 0) ? animData.onComplete : null\n      });\n      animProps.paused = paused;\n      animProps.moment = moment;\n      var mask = React.createElement(\n        'div',\n        { style: style, key: i },\n        cloneElement(elem, animProps, children)\n      );\n      animChild.push(mask);\n    }\n    var animSlot = React.createElement(\n      'div',\n      { style: { width: '100%', position: 'absolute', top: 0 } },\n      animChild\n    );\n    var _props = _extends({}, elem.props);\n    _props.children = animSlot;\n    return cloneElement(elem, _extends({}, _props, { animation: { x: 0, y: 0, type: 'set' } }));\n  },\n  grid: function grid(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n    var animChild = [];\n    var gridNum = 10;\n    var gridWidth = elemOffset.width / gridNum;\n    var gridNumH = Math.ceil(elemOffset.height / gridWidth);\n    var _delay = (gridNum - 1) * 50 + (gridNumH - 1) * 50;\n    if (type === 'leave') {\n      props.animation = _extends({}, animData, {\n        duration: _delay + animData.duration\n      });\n      props.moment = ((animData.delay || 0) + _delay + animData.duration) * ratio || 0;\n      props.paused = paused;\n      return React.cloneElement(elem, props);\n    }\n    var moment = ratio * (animData.duration + animData.delay + _delay) || 0;\n    for (var i = 0; i < gridNum * gridNumH; i++) {\n      // mask样式\n      var style = _extends({}, props.style);\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n      style.width = gridWidth + 1 + 'px';\n      style.height = gridWidth + 1 + 'px';\n      style.left = i % gridNum * gridWidth;\n      style.top = Math.floor(i / gridNum) * gridWidth;\n      style.opacity = 0;\n      // clone 的样式\n      var _style = _extends({}, props.style);\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.position = 'relative';\n      _style.left = -i % gridNum * gridWidth;\n      _style.top = -Math.floor(i / gridNum) * gridWidth;\n      _style.overflow = 'hidden';\n      props.style = _style;\n      var delay = direction === 'next' ? i % gridNum * 50 + Math.floor(i / gridNum) * 50 : (gridNum - 1 - i % gridNum) * 50 + (gridNumH - 1 - Math.floor(i / gridNum)) * 50;\n      delay += animData.delay || 0;\n      var length = direction === 'next' ? gridNum * gridNumH - 1 : 0;\n      var animation = _extends({}, animData, {\n        opacity: 1,\n        delay: delay,\n        onComplete: i === length ? animData.onComplete : null\n      });\n      var mask = React.createElement(\n        elem.type,\n        {\n          style: style,\n          key: i,\n          paused: paused,\n          animation: animation,\n          moment: moment\n        },\n        cloneElement(elem, props)\n      );\n      animChild.push(mask);\n    }\n    var _props = _extends({}, elem.props);\n    _props.children = animChild;\n    return cloneElement(elem, _extends({}, _props, { animation: { x: 0, y: 0, type: 'set' } }));\n  }\n};"]},"metadata":{},"sourceType":"module"}